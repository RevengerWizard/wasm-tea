<!doctypehtml><html><head><link href=data:image/x-icon;, rel="shortcut icon"type=image/x-icon><title>teascript-wasm</title><style media=screen>#editor{border-radius:5px}#run{margin-top:10px}#output{border-radius:5px;border:1px solid #d3d3d3;padding:10px;margin-top:10px;overflow-y:auto}#container{max-width:800px;margin:100px auto}.error{color:red}</style></head><script src=https://cdnjs.cloudflare.com/ajax/libs/ace/1.24.1/ace.js charset=utf-8></script><script src=https://cdn.jsdelivr.net/gh/egordorichev/lit-ace/mode-lit.js charset=utf-8></script><body><div id=container><h1><a href=https://github.com/RevengerWizard/teascript>Teascript</a></h1><div id=editor>print("Hello, world!")</div><button id=run onclick=run_input()>Run</button><button id=clear onclick=clear_output()>Clear</button><button id=share onclick=share()>Share Code</button><h5>Output</h5><pre><div id=output></div></pre><script>function get_contents(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(1!==n.getResponseHeader("Content-Type").indexOf("text")&&t(n.responseText))}}var editor=ace.edit("editor",{theme:"ace/theme/monokai",maxLines:30,minLines:10,fontSize:"12px",wrap:!0,tabSize:4,useSoftTabs:!1,autoScrollEditorIntoView:!0}),params=new URLSearchParams(window.location.search),file=params.get("github");if(null!=file)get_contents(`https://cdn.jsdelivr.net/gh/${file}`,(function(e){editor.setValue(e),editor.clearSelection()}));else{var code=params.get("code");null!=code&&(editor.setValue(code),editor.clearSelection())}editor.session.setMode("ace/mode/lit"),editor.session.setUseWorker(!1),editor.renderer.setScrollMargin(10,10);var result,run_tea,new_state,free_state,fileRead=!1,initialised=!1,Module={print:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.log(e),document.getElementById("output").innerText+=e+"\n"},printErr:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.error(e);const t=document.getElementById("output"),n=document.createElement("span");n.className="error",n.textContent=e+"\n",t.appendChild(n)}};function clear_output(){document.getElementById("output").innerHTML=""}function run_input(){clear_output();var e=editor.getValue();run_tea(e)}function share(){var e=`?code=${encodeURIComponent(editor.getValue())}`,t=`${location.protocol+"//"+location.host+location.pathname}${e}`;navigator.clipboard.writeText(t).then((function(){alert("Link to the snippet is in your clipboard now"),window.history.pushState("","",e)}),(function(){alert("Failed to copy the link to clipboard")}))}Module.onRuntimeInitialized=function(){create_state=Module.cwrap("new_state",null,[]),free_state=Module.cwrap("free_state",null,[]),run_tea=Module.cwrap("run_tea",null,["string"]),create_state()},window.onbeforeunload=function(){free_state()}</script></div><script src=index.js async></script></body></html>